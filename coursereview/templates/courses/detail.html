{% extends 'base.html' %}
{% block title %}{{ course.title }} ‚Äî –û—Ç–∑—ã–≤—ã –æ –∫—É—Ä—Å–µ{% endblock %}

{% block content %}
<h1 class="title">{{ course.title }}</h1>

<p><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</strong> {{ course.platform }}</p>
<p><strong>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞:</strong> {{ course.average_rating|default:"–ù–µ—Ç –æ—Ü–µ–Ω–∫–∏" }}</p>

{% if course.description %}
<div class="box">
  <h3 class="title is-5">–û–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞</h3>
  <p>{{ course.description }}</p>
</div>
{% endif %}

<hr>

<h3 class="title is-4">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h3>

<form method="post">
  {% csrf_token %}

  <div class="columns">
    <div class="column">
      <div class="field">
        <label class="label">{{ form.author.label }}</label>
        <div class="control">
          {{ form.author }}
        </div>
      </div>
    </div>
    <div class="column">
      <div class="field">
        <label class="label">{{ form.rating.label }}</label>
        <div class="control">
          {{ form.rating }}
        </div>
      </div>
    </div>
  </div>

  <div class="field">
    <label class="label">{{ form.text.label }}</label>
    <div class="control">
      {{ form.text }}
    </div>
  </div>

  <button class="button is-link" type="submit">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
</form>

<hr>

<h3 class="title is-4">–û—Ç–∑—ã–≤—ã</h3>

<!-- {% if reviews %} -->
<!-- <div class="columns is-multiline"> -->
<!-- {% for review in reviews %} -->
<!-- <div class="column is-half"> -->
<!-- <div class="box"> -->
<!-- <p><strong>üë§ {{ review.author }}</strong></p> -->
<!-- <p><strong>–û—Ü–µ–Ω–∫–∞:</strong> {{ review.rating }}</p> -->
<!-- <p>{{ review.text }}</p> -->
<!-- </div> -->
<!-- </div> -->
<!-- {% endfor %} -->
<!-- </div> -->
<!-- {% else %} -->
<!-- <p>–ù–µ—Ç –æ—Ç–∑—ã–≤–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –∫—É—Ä—Å–∞.</p> -->
<!-- {% endif %} -->
{% if page_obj %}
<div class="columns is-multiline">
  {% for review in page_obj %}
  <div class="column is-half">
    <div class="box">
      <p><strong>üë§ {{ review.author }}</strong></p>
      <p><strong>–û—Ü–µ–Ω–∫–∞:</strong> {{ review.rating }}</p>
      <p>{{ review.text }}</p>
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}

{% if page_obj.has_other_pages %}
<nav class="pagination is-centered" role="navigation">
  {% if page_obj.has_previous %}
  <a class="pagination-previous" href="?page={{ page_obj.previous_page_number }}">–ù–∞–∑–∞–¥</a>
  {% else %}
  <span class="pagination-previous" disabled>–ù–∞–∑–∞–¥</span>
  {% endif %}

  {% if page_obj.has_next %}
  <a class="pagination-next" href="?page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥</a>
  {% else %}
  <span class="pagination-next" disabled>–í–ø–µ—Ä—ë–¥</span>
  {% endif %}

  <ul class="pagination-list">
    {% for page in page_obj.paginator.page_range %}
    {% if page == page_obj.number %}
    <li><span class="pagination-link is-current">{{ page }}</span></li>
    {% else %}
    <li><a class="pagination-link" href="?page={{ page }}">{{ page }}</a></li>
    {% endif %}
    {% endfor %}
  </ul>
</nav>
{% endif %}

{% endblock %}